<html lang="en"><head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>eSewa Document</title>

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/assets/img/eSewa-logo-small.png">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="/assets/css/prism.css" rel="stylesheet">
    <link href="/assets/css/style.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>

<body data-new-gr-c-s-check-loaded="14.1172.0" data-gr-ext-installed="" data-new-gr-c-s-loaded="14.1172.0">
    <img src="http://developer.esewa.com.np/assets/img/eSewa-logo-small.png" style="display: none">
    <!-- The sidebar -->
    <nav class="navbar fixed-top navbar-light bg-light" style="display:none;height:50px">
        <div class="row">
            <div class="col-4">
                <a href="javascript:void(0)" class="menu-button">
                    <img src="http://developer.esewa.com.np/assets/img/icon_hamburger.png" width="20px" style="left:16px;position: absolute;top:15px">
                </a>
            </div>
            <div class="col logo">
                <img src="http://developer.esewa.com.np/assets/img/esewa_logo.png" width="100px">
            </div>
        </div>
    </nav>

    <div>
        <div class="sidebar">
            <div class="logo">
                <a href="http://developer.esewa.com.np"><img src="http://developer.esewa.com.np/assets/img/esewa_logo.png" width="100px"></a>
            </div>
            <ul class="menu">
                
                                                        <li class="menu-item ">
                        <a href="http://developer.esewa.com.np/pages/Introduction" class="">
                                                        Introduction
                                                                                </a>
                        <ul class="sub-menu">
                                                    </ul>
                    </li>
                                                        <li class="menu-item active">
                        <a class="active nav-link disabled">
                                                        Epay
                                                                                        <span class="dropdown-toggle float-end" style="padding-right:10px"></span>
                                                    </a>
                        <ul class="sub-menu">
                                                                                                <li class="sub-menu-item transactionflow active"><a href=" #transactionflow " class="">Transaction Flow</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item integration"><a href=" #integration " class="active">Integration</a>
                                        <ul class="sub-menu active">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item token"><a href=" #token ">Token</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item statuscheck"><a href=" #statuscheck ">Status Check</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item faq"><a href=" #faq ">FAQ</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item credentials&amp;urls"><a href=" #credentials&amp;urls ">Credentials &amp; URLs</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                                    </ul>
                    </li>
                                                        <li class="menu-item ">
                        <a class="">
                                                            <img src="http://developer.esewa.com.np/assets/icons/android.png" style="width; 18px;height: 18px;margin-right: 5px;">
                                                        Android
                                                                                        <span class="dropdown-toggle float-end" style="padding-right:10px"></span>
                                                    </a>
                        <ul class="sub-menu">
                                                                                                <li class="sub-menu-item transactionflow"><a href=" http://developer.esewa.com.np/pages/Android#transactionflow ">Transaction Flow</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item systeminteraction"><a href=" http://developer.esewa.com.np/pages/Android#systeminteraction ">System Interaction</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item integration"><a href=" http://developer.esewa.com.np/pages/Android#integration ">Integration</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item errorcasesandhandling"><a href=" http://developer.esewa.com.np/pages/Android#errorcasesandhandling ">Error Cases and Handling</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item transactionverification"><a href=" http://developer.esewa.com.np/pages/Android#transactionverification ">Transaction Verification</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item credentials&amp;urls"><a href=" http://developer.esewa.com.np/pages/Android#credentials&amp;urls ">Credentials &amp; URLs</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                                    </ul>
                    </li>
                                                        <li class="menu-item ">
                        <a class="">
                                                            <img src="http://developer.esewa.com.np/assets/icons/ios.png" style="width; 18px;height: 18px;margin-right: 5px;">
                                                        iOS
                                                                                        <span class="dropdown-toggle float-end" style="padding-right:10px"></span>
                                                    </a>
                        <ul class="sub-menu">
                                                                                                <li class="sub-menu-item overview"><a href=" http://developer.esewa.com.np/pages/iOS#overview ">Overview</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item integration"><a href=" http://developer.esewa.com.np/pages/iOS#integration ">Integration</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item errorcasesandhandling"><a href=" http://developer.esewa.com.np/pages/iOS#errorcasesandhandling ">Error Cases and Handling</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item transactionverification"><a href=" http://developer.esewa.com.np/pages/iOS#transactionverification ">Transaction Verification</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item credentials&amp;urls"><a href=" http://developer.esewa.com.np/pages/iOS#credentials&amp;urls ">Credentials &amp; URLs</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                                    </ul>
                    </li>
                                                        <li class="menu-item ">
                        <a class="">
                                                            <img src="http://developer.esewa.com.np/assets/icons/flutter.png" style="width; 18px;height: 18px;margin-right: 5px;">
                                                        Flutter
                                                                                        <span class="dropdown-toggle float-end" style="padding-right:10px"></span>
                                                    </a>
                        <ul class="sub-menu">
                                                                                                <li class="sub-menu-item overview"><a href=" http://developer.esewa.com.np/pages/Flutter#overview ">Overview</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item instructions"><a href=" http://developer.esewa.com.np/pages/Flutter#instructions ">Instructions</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item iosconfiguration"><a href=" http://developer.esewa.com.np/pages/Flutter#iosconfiguration ">IOS Configuration</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item androidconfiguration"><a href=" http://developer.esewa.com.np/pages/Flutter#androidconfiguration ">Android Configuration</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item howtousesdkforpayment?"><a href=" http://developer.esewa.com.np/pages/Flutter#howtousesdkforpayment? ">How to use SDK for Payment?</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item esewaconfig"><a href=" http://developer.esewa.com.np/pages/Flutter#esewaconfig ">eSewa Config</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item esewapayment"><a href=" http://developer.esewa.com.np/pages/Flutter#esewapayment ">eSewa Payment</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item esewapaymentsuccessresult"><a href=" http://developer.esewa.com.np/pages/Flutter#esewapaymentsuccessresult ">eSewa Payment Success Result</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item transactionverification"><a href=" http://developer.esewa.com.np/pages/Flutter#transactionverification ">Transaction Verification</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                                    </ul>
                    </li>
                                                        <li class="menu-item ">
                        <a class="">
                                                        WooCommerce
                                                                                        <span class="dropdown-toggle float-end" style="padding-right:10px"></span>
                                                    </a>
                        <ul class="sub-menu">
                                                                                                <li class="sub-menu-item overview"><a href=" http://developer.esewa.com.np/pages/WooCommerce#overview ">Overview</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item installation"><a href=" http://developer.esewa.com.np/pages/WooCommerce#installation ">Installation</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item testing"><a href=" http://developer.esewa.com.np/pages/WooCommerce#testing ">Testing</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item deploy"><a href=" http://developer.esewa.com.np/pages/WooCommerce#deploy ">Deploy</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                                    </ul>
                    </li>
                                                        <li class="menu-item ">
                        <a class="">
                                                        Token
                                                                                        <span class="dropdown-toggle float-end" style="padding-right:10px"></span>
                                                    </a>
                        <ul class="sub-menu">
                                                                                                <li class="sub-menu-item overview"><a href=" http://developer.esewa.com.np/pages/Token#overview ">Overview</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item inquiry"><a href=" http://developer.esewa.com.np/pages/Token#inquiry ">Inquiry</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item payment"><a href=" http://developer.esewa.com.np/pages/Token#payment ">Payment</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                    <li class="sub-menu-item statuscheck"><a href=" http://developer.esewa.com.np/pages/Token#statuscheck ">Status Check</a>
                                        <ul class="sub-menu">
                                                                                    </ul>
                                    </li>
                                                                                    </ul>
                    </li>
                                                        <li class="menu-item ">
                        <a href="http://developer.esewa.com.np/pages/Test-credentials" class="">
                                                        Test-credentials
                                                                                </a>
                        <ul class="sub-menu">
                                                    </ul>
                    </li>
                                                        <li class="menu-item ">
                        <a href="http://developer.esewa.com.np/pages/Contact" class="">
                                                        Contact
                                                                                </a>
                        <ul class="sub-menu">
                                                    </ul>
                    </li>
                            </ul>

        </div>

        <div>
                <div class="content main">
        <h1> Overview</h1>
                    
                                <div>
                                                    <b></b>
                                                <p>The eSewa ePay system enables partner merchants to perform a transaction and receive money from the customer having an eSewa account in a secure environment.</p>
                    </div>
                                    
                                <div id="transactionflow" class="header">
                                                    <h4><b>Transaction Flow</b></h4>
                                                <p></p>

                                                <ul type="none" style="padding:0px">
                                                            <li>
                                    <p>1. When user choses eSewa as on-line payment option from partner merchant application, then user is temporarily redirected to eSewa ePay login page.</p>
                                </li>
                                                                                            <li>
                                    <p>2. User will provide valid credentials on login page.</p>
                                </li>
                                                                                            <li>
                                    <p>3. By confirming the transaction, user is accepting the transaction details sent by partner merchants. </p>
                                </li>
                                                                                            <li>
                                    <p>4. After each successful transaction, the user is redirected back to partner merchant’s success page. If transaction fails due to any reason (which includes user canceling transaction), the user is informed by appropriate failure message and redirected back to partner merchant’s failure page.</p>
                                </li>
                                                                                            <li>
                                    <p>5. For every successful transaction, the merchant account is credited accordingly and notified via email/SMS regarding transaction.</p>
                                </li>
                                                                                            <li>
                                    <p>6. eSewa application will automatically notifies partner merchant related to eSewa transaction through Instant Payment Notification (IPN).</p>
                                </li>
                                                                                            <li>
                                    <p>7. Partner merchants need to invoke transaction verification request to verify potential fraudulent transactions occurred.</p>
                                </li>
                                                                                            <li>
                                    <p>8. eSewa application will automatically notifies partner merchant with either success or failure response.</p>
                                </li>
                                                                                    </ul>

                    </div>
                                    
                                <div id="systeminteraction" class="header">
                                                    <h4><b>System Interaction</b></h4>
                                                <p>The interactions required to complete a transaction followed by transaction verification process are shown below:</p>
                        <img src="https://cdn.esewa.com.np/merchant/devdocs/images/system_interaction.png">
                        <div style="text-align: center; font-size:14px;font-weight:bold;">
                            Fig: System interaction for payment with transaction verification process </div>
                        <p>The scenario visualized in above figure shows an overall communication diagram end to end from merchant to eSewa. In general, merchant sends payment request to eSewa for transaction, where user will login with valid credentials and confirms the transaction. Upon confirmation, user is redirected back to merchant’s success page.
 
 The merchant have to send transaction verification request to eSewa after receiving successful payment for filtering potential fraudulent transactions. The eSewa system will response back accordingly with either success or failure message.</p>
                    </div>
                                    
                                <div>
                                                    <h4><b>HMAC/SHA256</b></h4>
                            <b></b>
                                                <p>This HMAC implements the HMAC algorithm as defined in RFC 2104 using the message digest function SHA256. The result MAC value will be a base-64 output type.</p>
                    </div>
                                    
                                <div>
                                                    <h4><b>Input</b></h4>
                            <b></b>
                                                <p><b>Input should be string type and the value of <span class="orange">Signed_field_names</span></b><br><b>Parameters</b>(total_amount,transaction_uuid,product_code) should be mandatory and should be in the same order while creating the signature</p>
                    </div>
                                    
                                <div>
                                                <p style="background: rgba(66,185,131,.1);border-radius: 2px;padding:16px;padding: 1rem;">
                            <i>total_amount=100,transaction_uuid=11-201-13,product_code=EPAYTEST</i><br>
                        </p>
                    </div>
                                    
                                <div>
                                                    <h4><b>SecretKey:</b></h4>
                            <b></b>
                                                <p>SecretKey for every merchant partner will be provided from eSewa<br>For UAT, SecretKey will be <span class="orange">8gBm/:&amp;EnhH.1/q</span>( Input should be text type.)</p>
                    </div>
                                    
                                <div>
                                                    <h4><b>Algorithm used for signature generation is SHA-256</b></h4>
                            <b>Output:</b>
                                                <p>The generated signature should be in base-64 output type. For eg:</p>
                    </div>
                                    
                                <div>
                                                    <b>Result</b>
                                                <p style="background: rgba(66,185,131,.1);border-radius: 2px;padding:16px;padding: 1rem;">
                            <i>4Ov7pCI1zIOdwtV2BRMUNjz1upIlT/COTxfLhWvVurE=</i><br>
                        </p>
                    </div>
                                    
                                <div>
                                                    <strong>Examples of creating base64 hashes using HMAC SHA256 in different languages:</strong>
                                                                        <div class="code">
                            <nav style="font-size: 14px;">
                                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                                            <button class="nav-link active" id="nav-Javascript-tab9" data-bs-toggle="tab" data-bs-target="#nav-Javascript9" type="button" role="tab" aria-controls="nav-Javascript9" aria-selected="true">Javascript</button>
                                                                            <button class="nav-link " id="nav-PHP-tab9" data-bs-toggle="tab" data-bs-target="#nav-PHP9" type="button" role="tab" aria-controls="nav-PHP9" aria-selected="false" tabindex="-1">PHP</button>
                                                                            <button class="nav-link " id="nav-JAVA-tab9" data-bs-toggle="tab" data-bs-target="#nav-JAVA9" type="button" role="tab" aria-controls="nav-JAVA9" aria-selected="false" tabindex="-1">JAVA</button>
                                                                            <button class="nav-link " id="nav-java-tab9" data-bs-toggle="tab" data-bs-target="#nav-java9" type="button" role="tab" aria-controls="nav-java9" aria-selected="false" tabindex="-1">java</button>
                                    
                                </div>
                            </nav>
                            <div class="tab-content" id="nav-tabContent" style=" padding: 15px;background-color: #26315e;">
                                                                    <div class="tab-pane fade show active " id="nav-Javascript9" role="tabpanel" aria-labelledby="nav-Javascript-tab9" tabindex="0">
                                        <div class="code-toolbar"><pre class="language-javascript" tabindex="0"><code class="language-javascript"><span class="token operator">&lt;</span>script src<span class="token operator">=</span>"https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdnjs<span class="token punctuation">.</span>cloudflare<span class="token punctuation">.</span>com<span class="token operator">/</span>ajax<span class="token operator">/</span>libs<span class="token operator">/</span>crypto<span class="token operator">-</span>js<span class="token operator">/</span><span class="token number">3.1</span><span class="token number">.9</span><span class="token operator">-</span><span class="token number">1</span>
<span class="token operator">/</span>crypto<span class="token operator">-</span>js<span class="token punctuation">.</span>min<span class="token punctuation">.</span>js"<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span>"https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdnjs<span class="token punctuation">.</span>cloudflare<span class="token punctuation">.</span>com<span class="token operator">/</span>ajax<span class="token operator">/</span>libs<span class="token operator">/</span>crypto<span class="token operator">-</span>js<span class="token operator">/</span><span class="token number">3.1</span><span class="token number">.9</span><span class="token operator">-</span><span class="token number">1</span>
<span class="token operator">/</span>hmac<span class="token operator">-</span>sha256<span class="token punctuation">.</span>min<span class="token punctuation">.</span>js"<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span>"https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cdnjs<span class="token punctuation">.</span>cloudflare<span class="token punctuation">.</span>com<span class="token operator">/</span>ajax<span class="token operator">/</span>libs<span class="token operator">/</span>crypto<span class="token operator">-</span>js<span class="token operator">/</span><span class="token number">3.1</span><span class="token number">.9</span><span class="token operator">-</span><span class="token number">1</span>
<span class="token operator">/</span>enc<span class="token operator">-</span>base64<span class="token punctuation">.</span>min<span class="token punctuation">.</span>js"<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
 <span class="token keyword">var</span> hash <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span><span class="token function">HmacSHA256</span><span class="token punctuation">(</span><span class="token string">"Message"</span><span class="token punctuation">,</span> <span class="token string">"secret"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">var</span> hashInBase64 <span class="token operator">=</span> CryptoJS<span class="token punctuation">.</span>enc<span class="token punctuation">.</span>Base64<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
 document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>hashInBase64<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
 </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                                    </div>
                                                                    <div class="tab-pane fade  " id="nav-PHP9" role="tabpanel" aria-labelledby="nav-PHP-tab9" tabindex="0">
                                        <div class="code-toolbar"><pre class="language-php" tabindex="0"><code class="language-php"><span class="token variable">$s</span> <span class="token operator">=</span> <span class="token function">hash_hmac</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'sha256'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'Message'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'secret'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">base64_encode</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                                    </div>
                                                                    <div class="tab-pane fade  " id="nav-JAVA9" role="tabpanel" aria-labelledby="nav-JAVA-tab9" tabindex="0">
                                        <div class="code-toolbar"><pre class="language-java" tabindex="0"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span></span><span class="token class-name">Mac</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>spec<span class="token punctuation">.</span></span><span class="token class-name">SecretKeySpec</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>codec<span class="token punctuation">.</span>binary<span class="token punctuation">.</span></span><span class="token class-name">Base64</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiSecurityExample</span> <span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">try</span> <span class="token punctuation">{</span>
 <span class="token class-name">String</span> secret <span class="token operator">=</span> <span class="token string">"secret"</span><span class="token punctuation">;</span>
 <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">"Message"</span><span class="token punctuation">;</span>
 <span class="token class-name">Mac</span> sha256_HMAC <span class="token operator">=</span> <span class="token class-name">Mac</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"HmacSHA256"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token class-name">SecretKeySpec</span> secret_key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SecretKeySpec</span><span class="token punctuation">(</span>secret<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"HmacSHA256"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 sha256_HMAC<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>secret_key<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token class-name">String</span> hash <span class="token operator">=</span> <span class="token class-name">Base64</span><span class="token punctuation">.</span><span class="token function">encodeBase64String</span><span class="token punctuation">(</span>sha256_HMAC<span class="token punctuation">.</span><span class="token function">doFinal</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                                    </div>
                                                                    <div class="tab-pane fade  " id="nav-java9" role="tabpanel" aria-labelledby="nav-java-tab9" tabindex="0">
                                        <div class="code-toolbar"><pre class="language-java" tabindex="0"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span></span><span class="token class-name">Mac</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>crypto<span class="token punctuation">.</span>spec<span class="token punctuation">.</span></span><span class="token class-name">SecretKeySpec</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span><span class="token class-name">InvalidKeyException</span></span><span class="token punctuation">;</span>
def <span class="token function">hmac_sha256</span><span class="token punctuation">(</span><span class="token class-name">String</span> secretKey<span class="token punctuation">,</span> <span class="token class-name">String</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">try</span> <span class="token punctuation">{</span>
 <span class="token class-name">Mac</span> mac <span class="token operator">=</span> <span class="token class-name">Mac</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"HmacSHA256"</span><span class="token punctuation">)</span>
 <span class="token class-name">SecretKeySpec</span> secretKeySpec <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SecretKeySpec</span><span class="token punctuation">(</span>secretKey<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"HmacSHA256"</span><span class="token punctuation">)</span>
 mac<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>secretKeySpec<span class="token punctuation">)</span>
 <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> digest <span class="token operator">=</span> mac<span class="token punctuation">.</span><span class="token function">doFinal</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">return</span> digest
 <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InvalidKeyException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"Invalid key exception while converting to HMac SHA256"</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
def hash <span class="token operator">=</span> <span class="token function">hmac_sha256</span><span class="token punctuation">(</span><span class="token string">"secret"</span><span class="token punctuation">,</span> <span class="token string">"Message"</span><span class="token punctuation">)</span>
encodedData <span class="token operator">=</span> hash<span class="token punctuation">.</span><span class="token function">encodeBase64</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>encodedData<span class="token punctuation">)</span> </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                                    </div>
                                                            </div>
                        </div>

                    </div>
                                    
                                <div id="integration" class="header">
                                                    <h4><b>Integration</b></h4>
                            <b></b>
                                                <p>During this phase, the merchant will use test user credentials to login in eSewa and process the transaction. Adequate balance will be updated to test the user account.
The partner merchant will send request/post form request with various parameters. Some parameters are mandatory(i.e the parameters must be included) while some are optional.
For end-to-end connection, some safety measures are applied while sending requests. The partner merchant should generate a signature using HMAC algorithm. Here's how the signature is to be generated and the generated signature should be sent along with the other request parameter.</p><p>For production please use following url:<span class="orange">https://epay.esewa.com.np/api/epay/main/v2/form </span></p><p></p>
                    </div>
                                    
                                <div>
                                                                        <div class="code">
                            <nav style="font-size: 14px;">
                                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                                            <button class="nav-link active" id="nav-Html-tab11" data-bs-toggle="tab" data-bs-target="#nav-Html11" type="button" role="tab" aria-controls="nav-Html11" aria-selected="true">Html</button>
                                    
                                </div>
                            </nav>
                            <div class="tab-content" id="nav-tabContent" style=" padding: 15px;background-color: #26315e;">
                                                                    <div class="tab-pane fade show active " id="nav-Html11" role="tabpanel" aria-labelledby="nav-Html-tab11" tabindex="0">
                                        <div class="code-toolbar"><pre class="language-html" tabindex="0"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://rc-epay.esewa.com.np/api/epay/main/v2/form<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>amount<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>amount<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tax_amount<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tax_amount<span class="token punctuation">"</span></span> <span class="token attr-name">value</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>total_amount<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>total_amount<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>110<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transaction_uuid<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transaction_uuid<span class="token punctuation">"</span></span><span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product_code<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product_code<span class="token punctuation">"</span></span> <span class="token attr-name">value</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>EPAYTEST<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product_service_charge<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product_service_charge<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product_delivery_charge<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product_delivery_charge<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>success_url<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>success_url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://esewa.com.np<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>failure_url<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>failure_url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://google.com<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>signed_field_names<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>signed_field_names<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>total_amount,transaction_uuid,product_code<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>signature<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>signature<span class="token punctuation">"</span></span> <span class="token attr-name">"</span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
 </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                                    </div>
                                                            </div>
                        </div>

                    </div>
                                    
                                <div>
                                                    <h4><b>Demo</b></h4>
                            <b></b>
                                                <p><iframe style="border:none;" src="/try"></iframe> </p>
                    </div>
                                    
                                <div style="line-height:2;padding-bottom: 20px;">
                                                    <strong>form-data:</strong>
                                                                        <div class="code-toolbar"><pre class="language-html" tabindex="0"><code class="language-html">{
"amount": "100",
"failure_url": "https://google.com",
"product_delivery_charge": "0",
"product_service_charge": "0",
"product_code": "EPAYTEST",
"signature": "YVweM7CgAtZW5tRKica/BIeYFvpSj09AaInsulqNKHk=",
"signed_field_names": "total_amount,transaction_uuid,product_code",
"success_url": "https://esewa.com.np",
"tax_amount": "10",
"total_amount": "110",
"transaction_uuid": "ab14a8f2b02c3"
}
 </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                    </div>
                                    
                                <div>
                                                    <h4><b>Request Param Details:</b></h4>
                                                <table class="table">
                            <thead>
                                <tr>
                                                                            <th>Parameter Name</th>
                                                                            <th>Description</th>
                                                                    </tr>
                            </thead>
                            <tbody>
                                                                    <tr>
                                                                                    <td class="orange">amount
                                            </td>
                                                                                    <td>Amount of product
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">tax_amount
                                            </td>
                                                                                    <td>Tax amount applied on product
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">product_service_charge
                                            </td>
                                                                                    <td>product_service_charge Service charge by merchant on product
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">product_delivery_charge
                                            </td>
                                                                                    <td>Delivery charge by merchant on product
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">product_code
                                            </td>
                                                                                    <td>Merchant code provided by eSewa
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">total_amount
                                            </td>
                                                                                    <td>Total payment amount including tax, service and deliver charge. [i.e total_amount= amount+ tax_amount+ product_service_charge + product_delivery_charge ]
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">transaction_uuid
                                            </td>
                                                                                    <td>A unique ID of product, should be unique on every request.Supports alphanumeric and hyphen(-) only
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">success_url
                                            </td>
                                                                                    <td>a redirect URL of merchant application where customer will be redirected after SUCCESSFUL transaction
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">failure_url
                                            </td>
                                                                                    <td>a redirect URL of merchant application where customer will be redirected after FAILURE or PENDING transaction
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">signed_field_names
                                            </td>
                                                                                    <td>Unique field names to be sent which is used for generating signature
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">signature
                                            </td>
                                                                                    <td>hmac signature generated through above process.
                                            </td>
                                                                            </tr>
                                                            </tbody>
                        </table>
                    </div>
                                    
                                <div>
                                                <p style="background: rgba(66,185,131,.1);border-radius: 2px;padding:16px;padding: 1rem;">
                            <i>All parameters are required i.e. values should not be null or empty. If tax_amount, product_service_charge &amp; product_delivery_charge are not used for transaction then their respective values should be zero.
<span class="orange"> In transaction_uuid , please use alphanumeric characters and hyphen(-) only</span></i><br>
                        </p>
                    </div>
                                    
                                <div id="token" class="header">
                                                    <h4><b>Token</b></h4>
                            <b></b>
                                                <p>After request is being sent, user is redirected to login page where users input eSewaId and Password. A 6-digit verification token is sent to user mobile(SMS or email) depends upon eSewaId used by user.
For now, only for testing purpose token is 123456 to remove the hassle to obtain token each time after login.
</p>
                    </div>
                                    
                                <div style="line-height:2;padding-bottom: 20px;">
                                                    <strong>After Successful Payment</strong>
                                                                            <p>After successful payment, the user is redirected to the success URL (that you have sent) along with the response parameters encoded in Base64.
<b>Example (Decoded Response Body):</b></p>
                                                <div class="code-toolbar"><pre class="language-html" tabindex="0"><code class="language-html">{
 "status": "COMPLETE",
 "signature": "ApAgFaOH8B1900oTI62Il9Gvl5C6Y87M0W6a1lRrK10=",
 "transaction_code": "0004T5I",
 "total_amount": 230,
 "transaction_uuid": "12-6-23",
 "product_code": "EPAYTEST",
 "success_url": "https://esewa.com.np",
 "signed_field_names": "transaction_code,status,total_amount,
transaction_uuid,product_code,signed_field_names"
} </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                    </div>
                                    
                                <div style="line-height:2;padding-bottom: 20px;">
                                                    <strong>Example (Response Body encoded in Base64)</strong>
                                                                        <div class="code-toolbar"><pre class="language-html" tabindex="0"><code class="language-html">ewogICAgInN0YXR1cyI6ICJDT01QTEVURSIsCiAgICAic2lnbmF0dXJlIjogIkFwQWdGYU9I
OEIxOTAwb1RJNjJJbDlHdmw1QzZZODdNMFc2YTFsUnJLMTA9IiwKICAgICJ0cmFuc2FjdGlv
bl9jb2RlIjogIjAwMDRUNUkiLAogICAgInRvdGFsX2Ftb3VudCI6IDIzMCwKICAgICJ0cmFu
c2FjdGlvbl91dWlkIjogIjEyLTYtMjMiLAogICAgInByb2R1Y3RfY29kZSI6ICJxZnhjaW5l
bWFzIiwKICAgICJzdWNjZXNzX3VybCI6ICJodHRwczovL2VzZXdhLmNvbS5ucCIsCiAgICAi
c2lnbmVkX2ZpZWxkX25hbWVzIjogInRyYW5zYWN0aW9uX2NvZGUsc3RhdHVzLHRvdGFsX2Ft
b3VudCx0cmFuc2FjdGlvbl91dWlkLHByb2R1Y3RfY29kZSxzaWduZWRfZmllbGRfbmFtZXMiCn0= </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                    </div>
                                    
                                <div>
                                                <p style="background: rgba(66,185,131,.1);border-radius: 2px;padding:16px;padding: 1rem;">
                            <i>Make sure you verify the integrity of the response body by comparing the signature that we have sent with the signature that you generate. Signature should be generated the same way the request’s signature was generated.</i><br>
                        </p>
                    </div>
                                    
                                <div id="statuscheck" class="header">
                                                    <h4><b>Status Check</b></h4>
                            <b></b>
                                                <p>An API for client enquiry when a transaction is initiated and no response is provided from eSewa or received by Merchant. API parameters are product code, pid and amount client requests for transaction status with pid , scd , amount and esewa will respond with successful transaction code and status if failed status only.</p>
                    </div>
                                    
                                <div style="line-height:2;padding-bottom: 20px;">
                                                    <strong>URL</strong>
                                                                            <p>For testing: </p>
                                                <div class="code-toolbar"><pre class="language-html" tabindex="0"><code class="language-html">
https://uat.esewa.com.np/api/epay/transaction/status/?product_code=EPAYTEST&amp;total_amount=100&amp;transaction_uuid=123
 </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                    </div>
                                    
                                <div style="line-height:2;padding-bottom: 20px;">
                                                                            <p>For Production:</p>
                                                <div class="code-toolbar"><pre class="language-html" tabindex="0"><code class="language-html">
https://epay.esewa.com.np/api/epay/transaction/status/?product_code=EPAYTEST&amp;total_amount=100&amp;transaction_uuid=123
 </code></pre><div class="toolbar"><div class="toolbar-item"><button class="copy-to-clipboard-button" type="button" data-copy-state="copy"><span>Copy</span></button></div></div></div>
                    </div>
                                    
                                <div>
                                                    <h4><b>Request Parameter Description and Format</b></h4>
                                                <table class="table">
                            <thead>
                                <tr>
                                                                            <th>Response Types</th>
                                                                            <th>Response Description</th>
                                                                            <th>Response Format</th>
                                                                    </tr>
                            </thead>
                            <tbody>
                                                                    <tr>
                                                                                    <td class="orange">PENDING
                                            </td>
                                                                                    <td>Payment Initiated but not been completed yet
                                            </td>
                                                                                    <td><p>{
    "product_code": "EPAYTEST",
    "transaction_uuid": "240508-101430",
    "total_amount": 100.0,
    "status": "PENDING",
    "ref_id": null
}</p>
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">COMPLETE
                                            </td>
                                                                                    <td>Successful Payment
                                            </td>
                                                                                    <td><p>{
    "product_code": "EPAYTEST",
    "transaction_uuid": "240508-10108",
    "total_amount": 100.0,
    "status": "COMPLETE",
    "ref_id": "0007G36"
}</p>
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">FULL_REFUND
                                            </td>
                                                                                    <td>Full Payment refunded to the customer
                                            </td>
                                                                                    <td><p>{
    "product_code": "EPAYTEST",
    "transaction_uuid": "240508-101431",
    "total_amount": 100,
    "status": "FULL_REFUND",
    "ref_id": "0007G36"
}</p>
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">PARTIAL_REFUND
                                            </td>
                                                                                    <td>Partial payment refunded to the customer
                                            </td>
                                                                                    <td><p>{
    "product_code": "EPAYTEST",
    "transaction_uuid": "240508-101431",
    "total_amount": 100.0,
    "status": "PARTIAL_REFUND",
    "ref_id": "0007G36"
}</p>
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">AMBIGIOUS
                                            </td>
                                                                                    <td>Payment is at hult state
                                            </td>
                                                                                    <td><p>{
    "product_code": "EPAYTEST",
    "transaction_uuid": "240508-101431",
    "total_amount": 100.0,
    "status": "AMBIGIOUS",
    "ref_id": "0KDL6NA"
}</p>
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">NOT_FOUND
                                            </td>
                                                                                    <td>Payment terminated at eSewa: Session expired
                                            </td>
                                                                                    <td><p>{
    "product_code": "EPAYTEST",
    "transaction_uuid": "240508-101430",
    "total_amount": 100.0,
    "status": "NOT_FOUND",
    "ref_id": null
}</p>
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">CANCELED
                                            </td>
                                                                                    <td>Canceled/Reversed from eSewa side
                                            </td>
                                                                                    <td><p>{
    "product_code": "EPAYTEST",
    "transaction_uuid": "240508-102939",
    "total_amount": 10.0,
    "status": "CANCELED",
    "ref_id": "0KDL6NA"
}</p>
                                            </td>
                                                                            </tr>
                                                                    <tr>
                                                                                    <td class="orange">Service is currently unavailable
                                            </td>
                                                                                    <td>Server connection timeout.
                                            </td>
                                                                                    <td><p>{
"code": 0,
"error_message": "Service is currently
unavailable"
}
</p>
                                            </td>
                                                                            </tr>
                                                            </tbody>
                        </table>
                    </div>
                                    
                                <hr>
                                    
                                <div id="faq" class="header">
                                                    <h4><b>FAQ</b></h4>
                            <b></b>
                                                <p></p>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading26">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse26" aria-expanded="false" aria-controls="flush-collapse26">
                                    <b> What is ePay?</b> </button>
                            </h2>

                            <div id="flush-collapse26" class="accordion-collapse collapse" aria-labelledby="flush-heading26">
                                <div class="accordion-body">
                                                                            ePay is payment gateway which enables partner merchants to perform transaction initiated by customers having eSewa account in secure environment.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading27">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse27" aria-expanded="false" aria-controls="flush-collapse27">
                                    <b> What is the work-flow of eSewa ePay?</b> </button>
                            </h2>

                            <div id="flush-collapse27" class="accordion-collapse collapse" aria-labelledby="flush-heading27">
                                <div class="accordion-body">
                                                                                                                                                        <ul type="none" style="padding:0px">
                                                                                            <li>
                                                    <p>1. When user choses eSewa as online payment option from partner merchant application, then user is temporarily redirected to eSewa login page for payment.</p>
                                                </li>
                                                                                            <li>
                                                    <p>2. User will provide valid credentials on login page.</p>
                                                </li>
                                                                                            <li>
                                                    <p>3. By confirming the transaction, user is accepting the transaction details sent by partner merchants. </p>
                                                </li>
                                                                                            <li>
                                                    <p>4. After each successful transaction, the user is redirected back to partner merchant’s success page. If transaction fails due to any reason (which includes user canceling transaction), the user is informed by appropriate failure message and redirected back to partner merchant’s failure page.</p>
                                                </li>
                                                                                            <li>
                                                    <p>5. For every successful transaction, the merchant account is credited accordingly and notified via email/SMS regarding transaction.</p>
                                                </li>
                                                                                            <li>
                                                    <p>6. Partner merchants need to invoke transaction verification request to verify potential fraudulent transactions occurred.</p>
                                                </li>
                                                                                            <li>
                                                    <p>7. eSewa application will automatically notifies partner merchant with either success or failure response.</p>
                                                </li>
                                                                                    </ul>
                                                                    </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading28">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse28" aria-expanded="false" aria-controls="flush-collapse28">
                                    <b> What are the item I will get for implementing eSewa ePay API?</b> </button>
                            </h2>

                            <div id="flush-collapse28" class="accordion-collapse collapse" aria-labelledby="flush-heading28">
                                <div class="accordion-body">
                                                                            You will be provided with a technical document, test merchant service code, test user login credentials.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading29">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse29" aria-expanded="false" aria-controls="flush-collapse29">
                                    <b> Does eSewa provide payment integration in mobile applications?</b> </button>
                            </h2>

                            <div id="flush-collapse29" class="accordion-collapse collapse" aria-labelledby="flush-heading29">
                                <div class="accordion-body">
                                                                            Yes, eSewa also provides payment integration in android and iOS applications. You can refer our documentation for mobile SDK integration for detail information about mobile integration.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading30">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse30" aria-expanded="false" aria-controls="flush-collapse30">
                                    <b> What is the settlement mechanism from eSewa to Merchant Bank Account?</b> </button>
                            </h2>

                            <div id="flush-collapse30" class="accordion-collapse collapse" aria-labelledby="flush-heading30">
                                <div class="accordion-body">
                                                                            On successful transaction the balance from eSewa user is transferred to merchant account and merchant can withdraw balance to respective bank account in free of cost.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading31">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse31" aria-expanded="false" aria-controls="flush-collapse31">
                                    <b> How eSewa provides support up on receiving any trouble because of ePay?</b> </button>
                            </h2>

                            <div id="flush-collapse31" class="accordion-collapse collapse" aria-labelledby="flush-heading31">
                                <div class="accordion-body">
                                                                            eSewa provides 24 hours of customer support service. You can contact us in case of any inconvenience.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading32">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse32" aria-expanded="false" aria-controls="flush-collapse32">
                                    <b> What is supposed to be done if the payment amount is confirmed by eSewa and transaction amount requested by Web application is not equal?</b> </button>
                            </h2>

                            <div id="flush-collapse32" class="accordion-collapse collapse" aria-labelledby="flush-heading32">
                                <div class="accordion-body">
                                                                            This may be the case of fraud transaction. For filtering fraud transactions, eSewa provides transaction verification system. So in this case service/product delivery must be stopped and one should implement the transaction verification process in eSewa ePay API as soon as possible.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading33">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse33" aria-expanded="false" aria-controls="flush-collapse33">
                                    <b> What is the time per session to make successful payment?</b> </button>
                            </h2>

                            <div id="flush-collapse33" class="accordion-collapse collapse" aria-labelledby="flush-heading33">
                                <div class="accordion-body">
                                                                            If payment is not made within 15 minutes of login then transaction will be failed and user must reinitiate the transaction.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading34">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse34" aria-expanded="false" aria-controls="flush-collapse34">
                                    <b> Should customer must have eSewa ID and its credential to do payment ?</b> </button>
                            </h2>

                            <div id="flush-collapse34" class="accordion-collapse collapse" aria-labelledby="flush-heading34">
                                <div class="accordion-body">
                                                                            Yes, customer must be registered to eSewa for the completing the transaction.
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <div class="accordion accordion-flush" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="flush-heading35">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse35" aria-expanded="false" aria-controls="flush-collapse35">
                                    <b> What is the session expiry time for epay ?</b> </button>
                            </h2>

                            <div id="flush-collapse35" class="accordion-collapse collapse" aria-labelledby="flush-heading35">
                                <div class="accordion-body">
                                                                            Incase of epay ,the session will expire after some minutes.After that user will get error :``Your booking has expired. Please re-initiate the payment.``
                                                                                                        </div>
                            </div>
                        </div>
                    </div>
                                    
                                <hr>
                                    
                                <div id="credentials&amp;urls" class="header">
                                                    <h4><b>Credentials &amp; URLs</b></h4>
                            <b></b>
                                                <p>Each client will also receive a wallet on eSewa <b>(Merchant wallet)</b> from where they can find payments made for their products/services:

 <b>Link For Production Mode:</b> https://merchant.esewa.com.np

To make payment with eSewa sdk. One must be a registered eSewa user. For testing phase, the client/merchant can use the following eSewa id and password:

 <b class="orange">eSewa ID:</b> 9806800001/2/3/4/5
 <b class="orange">Password:</b> Nepal@123 <b class="orange">MPIN:</b> 1122 (for application only)
<b class="orange">Token:</b>123456
</p>
                    </div>
                        
    </div>
    <div class="content footer" style="position: relative;">
        <hr class="border border-success border-1 opacity-50">
        <div class="footer-main">
            <div class="col-12 md:col-10 xl:col-8 md:col-offset-1 xl:col-offset-2">
                <div class="row">
                    <div class="col-6">
                        <h6 style="font-weight: 800;font-size: 18px;line-height: 24px;color: #28293d;margin: 0 0 15px">
                            <b>ABOUT ESEWA</b>
                        </h6>
                        <div>
                            <img src="http://developer.esewa.com.np/assets/img/esewa_logo.png" width="100px">
                            <p>eSewa is a mobile wallet for online and offline payments with a user base of 8 millions, a
                                vast network of 4 hundred thousand agents, and a comprehensive array of services.<br>It is a
                                one-stop destination for all of your needs like mobile recharge, electricity bills payment,
                                telephone bills payment, booking bus and airlines tickets, buying movie tickets,
                                transferring money, and many more.</p>
                        </div>

                    </div>
                    <div class="col">
                        <h6><b>COMPANY</b></h6>
                        <ul style="list-style-type: none;text-decoration:none;padding: 0px;color:black;">
                            <li>
                                <a href="https://blog.esewa.com.np/about-esewa/" target="_blank">About Us</a>
                            </li>
                            <li>
                                <a href="https://blog.esewa.com.np/career-opportunities-with-esewa/" target="_blank">Career</a>
                            </li>
                            <li>
                                <a href="https://blog.esewa.com.np/banks/" target="_blank">Partner Banks</a>
                            </li>
                            <li>
                                <a href="https://blog.esewa.com.np/contact-us/" target="_blank">Contact us</a>
                            </li>
                            <li>
                                <a href="https://blog.esewa.com.np/frequently-asked-questions/" target="_blank">FAQ</a>
                            </li>
                        </ul>

                    </div>
                    <div class="col">
                        <h6><b>POLICIES</b></h6>
                        <ul style="list-style-type: none;text-decoration:none;padding: 0px;color:black;">
                            <li>
                                <a href="https://blog.esewa.com.np/privacy-policy/" target="_blank">Privacy Policy</a>
                            </li>
                            <li>
                                <a href="https://blog.esewa.com.np/terms-and-conditions/" target="_blank">Terms &amp;
                                    Conditions</a>
                            </li>
                            <li>
                                <a href="https://blog.esewa.com.np/report-fraud-and-misuse/" target="_blank">Report Fraud &amp;
                                    Misuse</a>
                            </li>
                            <li>
                                <a href="https://blog.esewa.com.np/revision-in-transaction-limits/" target="_blank">Transaction Limits</a>
                            </li>
                        </ul>
                        <a class="btn btn-success btn-sm" style="background-color: #60bb46" href="https://merchant.esewa.com.np/auth/register-merchant/" target="_blank">Become a
                            Merchant</a>


                    </div>
                    <div class="col">
                        <h6>
                            <b>DOWNLOAD APP</b>
                        </h6>
                        <a href="https://play.google.com/store/apps/details?id=com.f1soft.esewa" target="_blank"><img src="https://merchant.esewa.com.np/assets/img/app-store.svg"></a>
                        <a href="https://apps.apple.com/us/app/esewa/id614370939" target="_blank"><img src="https://merchant.esewa.com.np/assets/img/play-store.svg"> </a>
                    </div>

                </div>
            </div>
        </div>
        <hr>
        <div class="row col-12 md:col-10 xl:col-8 md:col-offset-1 xl:col-offset-2">
            <div class="col">
                <div class="text-left">© 2009-
                    <script>
                        document.write(new Date().getFullYear());
                    </script>2024 eSewa.All Rights Reserved.
                </div>
            </div>
            <div class="col">
                <div class="text-end">
                    keep in touch----
                    <ul style="list-style-type:none;display:inline-flex;">
                        <li style="padding-right:5px;"><a href="https://np.linkedin.com/company/esewa"> <img src="https://merchant.esewa.com.np/linkedin.d5418bb29cf906e9.svg"></a>
                        </li>
                        <li style="padding-right:5px;"><a href="https://twitter.com/eSewaNepal?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">
                                <img src="https://merchant.esewa.com.np/twitter-square.6e6253d835c5c1b0.svg"></a>
                        </li>
                        <li style="padding-right:5px;"><a href="https://www.facebook.com/esewa/"> <img src="https://merchant.esewa.com.np/facebook-square.b2a0b4962f1f33df.svg"></a>
                        </li>
                        <li><a href="https://www.youtube.com/channel/UCr5isSl8_yDp0qkVswX-6tQ"> <img src="https://merchant.esewa.com.np/youtube-square.24fc92b8a3503d88.svg"></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">
    </script>


<script>
    $(document).ready(function() {
        $('.sidebar .menu-item').click(function() {
            $(this).toggleClass('active');
        });
        $('.sidebar .sub-menu-item').click(function() {
            $(this).toggleClass('active');
            $(this).parent().parent().toggleClass('active');
        });
        $('.sub-menu-item').click(function() {
            $('.sub-menu-item').removeClass('active');
            $(this).addClass('active');
        });

    });
    $(document).ready(function() {
        var current = "";

        const $sections = $(".header");
        const $navLi = $(".sub-menu-item").filter(function() {
            return $(this).closest(".menu-item").hasClass("active");
        });

        $(window).scroll(function() {
            $sections.each(function() {
                const sectionTop = $(this).offset().top;
                if ($(window).scrollTop() >= sectionTop - 60) {
                    current = $(this).attr("id");
                }
            });

            $navLi.each(function() {
                $(this).children().removeClass("active");
                if ($(this).hasClass(current)) {
                    $(this).children().addClass("active");
                }
            });
        });
    });

    const menuButton = document.querySelector('.menu-button');
    const sidebar = document.querySelector('.sidebar');
    const cont = document.querySelector('.content');

    menuButton.addEventListener('click', () => {
        sidebar.classList.toggle('open');
    });
    cont.addEventListener('click', () => {
        sidebar.classList.remove('open');
    });

    const main = document.querySelector('.main');
    const footer = document.querySelector('.footer');

    function togglePosition() {
        if (document.documentElement.scrollHeight > window.innerHeight) {
            footer.style.position = 'relative';

        } else {
            footer.style.position = 'absolute';
            footer.style.bottom = '0';
        }
    }

    togglePosition();
    window.addEventListener('resize', togglePosition);
    main.addEventListener('scroll', togglePosition);
</script>

<script src="/assets/js/prism.js"></script>


</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>